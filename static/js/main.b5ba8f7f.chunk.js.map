{"version":3,"sources":["redux/dialogs-reducer.js","components/Friends/Friends.module.css","components/Musics/Musics.module.css","components/News/News.module.css","components/Settings/Settings.module.css","assets/images/spinner.svg","api/api.js","components/Navbar/Navbar.module.css","components/Friends/Friends.jsx","components/Musics/Music.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","redux/auth-reducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","serviceWorker.js","index.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","utils/validators/validator.js","components/Users/Users.module.css","components/Header/Header.module.css","assets/images/photo.png","redux/profile-reducer.js"],"names":["initialState","messages","id","message","dialogs","name","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","text","module","exports","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pagesSize","get","then","Response","data","getUnfollow","userId","delete","getFollow","post","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","getMe","login","email","password","rememberMe","logout","Friends","props","className","style","friends","Musics","musics","Navbar","nav","to","activeClassName","activeLink","users","settings","News","news","Settings","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowProgress","followunfollowFlow","dispatch","apiMethod","actionCreator","a","async","resultCode","usersReducer","map","u","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","disabled","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","unfollow","follow","src","photos","small","userPhoto","alt","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","pageSize","items","totalCount","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","Header","header","loginBlock","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","formSummaryError","length","stopSubmit","_error","formData","initialized","appReducer","redusers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsConstainer","lazy","ProfileContainer","App","initializeApp","path","render","Music","AppContainer","withRouter","MainApp","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","Textarea","input","meta","hasError","touched","formControl","placeholder","validators","component","validate","spinner","value","maxLengthCreator","maxLength","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.b5ba8f7f.chunk.js","sourcesContent":["const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n  messages: [\r\n    {id: 1, message: 'Hiiiii'},\r\n    {id: 2, message: 'loreeeem'},\r\n    {id: 3, message: 'Bay'}\r\n  ],\r\n  dialogs: [\r\n    {id: 1, name: 'User1'},\r\n    {id: 2, name: 'User2'},\r\n    {id: 3, name: 'User3'},\r\n    {id: 4, name: 'User4'},\r\n    {id: 5, name: 'User5'},\r\n    {id: 6, name: 'User6'},\r\n    {id: 7, name: 'User7'},\r\n    {id: 8, name: 'User8'},\r\n  ]\r\n};\r\n\r\n/* функция не должна менять входящиe данные (state) поэтому нужно сделать копию объекта state.\r\n  Редюсеры определяют, как состояние приложения изменяется в ответ на экшены, отправленные в стор.\r\n*/\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      let text = action.newMessageBody;\r\n      return { //сразу возвращаем копию state\r\n        ...state, //копия state\r\n        messages: [ ...state.messages, { id: 6, message: text }]  //создаем новый массив, в него перадаем state.messages, вторым значением добавляем в конец массива новое сообщение (пушим)\r\n      };                                                          //что бы добавить в начало массива то ставим первым значением\r\n\r\n    default:\r\n       return state;\r\n  }\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => {\r\n  return {type: ADD_MESSAGE, newMessageBody }\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__2ans4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musics\":\"Musics_musics__1T7SR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__3f68_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__249Mk\"};","module.exports = __webpack_public_path__ + \"static/media/spinner.edc625f7.svg\";","import Axios from \"axios\";\r\n\r\nconst instance = Axios.create({\r\n  withCredentials: true, //цепляется cookies\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\": \"6946ff38-638a-4018-ac8b-6ecca0f18517\"\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pagesSize = 10)  { //запрос на сервер на всех юзеров, в параметры передаем то что раньше приходило через this.props\r\n    return instance.get(`users?page=${currentPage}&count=${pagesSize}`)\r\n      .then(Response => {\r\n        return Response.data; //передаем в response не все а только data\r\n    });\r\n  },\r\n  getUnfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then(Response => {\r\n      return Response.data\r\n    })\r\n  },\r\n  getFollow(userId) {\r\n    return instance.post(`follow/${userId}`).then(Response => {\r\n      return Response.data\r\n    })\r\n  },\r\n  getProfile(userId) { //получаем данные для вывода на profile\r\n    return profileAPI.getProfile(userId)\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) { //получаем данные для вывода на profile\r\n    return instance.get(`profile/` + userId)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status})\r\n\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  getMe() { //если залогинин то сетаем данные\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__yZFaj\",\"activeLink\":\"Navbar_activeLink__3fr0l\",\"friends\":\"Navbar_friends__2NfrA\",\"settings\":\"Navbar_settings__2p8Bu\"};","import React from 'react';\r\nimport style from './Friends.module.css';\r\n\r\nconst Friends = (props) => {\r\n\r\n  return (\r\n    <div className={style.friends}>My Best Friend</div>\r\n  );\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport style from './Musics.module.css';\r\n\r\nconst Musics = () => {\r\n  return (\r\n    <div className={style.musics}>Musics</div>\r\n  );\r\n}\r\n\r\nexport default Musics;","import React from 'react';\r\nimport style from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/profile\" activeClassName={style.activeLink}>Profile</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/dialogs\" activeClassName={style.activeLink}>Dialogs</NavLink>\r\n        </li>\r\n        <li className={style.users}>\r\n          <NavLink to=\"/users\" activeClassName={style.activeLink}>Users</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/news\" activeClassName={style.activeLink}>News</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/musics\" activeClassName={style.activeLink}>Musics</NavLink>\r\n        </li>\r\n        <li className={style.settings}>\r\n          <NavLink to=\"/settings\" activeClassName={style.activeLink}>Settings</NavLink>\r\n        </li>\r\n        <li className={style.friends}>\r\n          <NavLink to=\"/friends\" activeClassName={style.activeLink}>Friends</NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport style from './News.module.css';\r\n\r\nconst News = () => {\r\n  return (\r\n    <div className={style.news}>News</div>\r\n  );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport style from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n  return (\r\n    <div className={style.settings}>Settings</div>\r\n  );\r\n}\r\n\r\nexport default Settings;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pagesSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n};\r\n\r\n/* что то меняется в state через редьюсер */\r\n/* редьюсер принимает старый state и action и меняет state на основании action */\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      /* возвращаем копию state */\r\n      return {\r\n        ...state,\r\n        /* делаем копию users и проходим по массиву мапом*/\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: true } //возвращаем копию юзера с змененным состоянием followed\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: false }\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users } //делаем копию state и перезатираем users\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count }\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId }); //action creator возвращает объект\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage: currentPage }); //изменить текущую страницу\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount }); //установить общее количество пользователей\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId }); //дисаблим кнопку folow/unfollow\r\n\r\n//создаем thunk\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true)); //когда посылаем запрос показываем индикатор загрузки\r\n    dispatch(setCurrentPage(page)); //выделять отобрадаемую страницу в users\r\n    /* axios вынесли отдельной функцией в api.js */\r\n    const data = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false)); //когда получаем ответ убираем индикатор загрузки\r\n    dispatch(setUsers(data.items)); //отправляем из компоненты в state с помощью setUsers которая приходит через пропсы из mapDisatchToProps\r\n    dispatch(setTotalUsersCount(data.totalCount)); //отправляем из компоненты в state\r\n  }\r\n}\r\n\r\nconst followunfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n  if (data.resultCode === 0) { //если мы залогинины то диспачим\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followunfollowFlow(dispatch, userId, usersAPI.getFollow.bind(usersAPI), followSuccess)\r\n  }\r\n}\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followunfollowFlow(dispatch, userId, usersAPI.getUnfollow.bind(usersAPI), unfollowSuccess);\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport style from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\n/* Презентационная компонента, только принимает пропсы и возвращает jsx разметку - чистая функция*/\r\n\r\nlet Paginator = ({ totalItemsCount, pagesSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n\r\n  let pagesCount = Math.ceil(totalItemsCount / pagesSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  /* если страница последняя то задисеблить кнопку next */\r\n  return (\r\n    <div className={style.pagination}>\r\n      {portionNumber === 1 &&\r\n        <button disabled>PREV</button>}\r\n      {portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>\r\n      }\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => {\r\n          return <span className={cn({\r\n            [style.selectedPage]: currentPage === p\r\n          }, style.pageNumber)}\r\n            key={p}\r\n            onClick={(e) => { onPageChanged(p); }}>{p}</span>\r\n        })\r\n      }\r\n      {portionCount > portionNumber &&\r\n        <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhoto from '../../assets/images/photo.png';\r\nimport style from './Users.module.css';\r\n\r\n/* Презентационная компонента, только принимает пропсы и возвращает jsx разметку - чистая функция*/\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div className={style.users} >\r\n      <span>\r\n        <div>\r\n          <NavLink to={'/profile/' + user.id}>\r\n            <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"avatar\"\r\n              className={style.userPhoto} />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed\r\n            ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => { unfollow(user.id); }}>\r\n              Unfollow</button>\r\n            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => { follow(user.id); }}>\r\n              Follow</button>}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div><strong>nickname:</strong> {user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        {/* <span>\r\n          <div>{\"u.location.country\"}</div>\r\n          <div>{\"u.location.city\"}</div>\r\n        </span> */}\r\n      </span>\r\n    </div>)\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n/* Презентационная компонента, только принимает пропсы и возвращает jsx разметку - чистая функция*/\r\n\r\nlet Users = ({currentPage, onPageChanged, pagesSize, users, totalUsersCount, ...props}) => {\r\n  \r\n  return (\r\n    <div>\r\n      <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pagesSize={pagesSize}/>\r\n      { users.map(u => <User user={u} key={u.id} followingInProgress={props.followingInProgress} unfollow={props.unfollow} follow={props.follow}/>) }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => { //принимает state и возвращает нунжные данные\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pagesSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { follow, requestUsers, setCurrentPage, toggleFollowProgress, unfollow } from '../../redux/users-reducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport Users from './Users';\r\nimport { getPageSize, getUsers, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\n\r\n/* UsersAPIComponent - делает аякс запросы на сервер и отрисовывает презентационную компоненту */\r\n\r\nclass UsersContainer extends React.Component {\r\n  //запросы на сервер\r\n  componentDidMount() { //данный метод вызывается сразу как компонента отрисуется (вставка в DOM)\r\n    const { currentPage, pagesSize } = this.props; //деструктуризация\r\n    this.props.getUsers(currentPage, pagesSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const { pagesSize } = this.props;\r\n    this.props.getUsers(pageNumber, pagesSize);\r\n  }\r\n\r\n  render() {\r\n    //передаем пропсы в Users только те которые нужны этой компоненте\r\n    //пропсы получаем через connect\r\n    return <>\r\n      {this.props.isFetching ?\r\n        <Preloader /> : null}\r\n      <Users totalUsersCount={this.props.totalUsersCount}\r\n        pagesSize={this.props.pagesSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={this.props.users}\r\n        follow={this.props.follow}\r\n        unfollow={this.props.unfollow}\r\n        followingInProgress={this.props.followingInProgress} />\r\n    </>\r\n  }\r\n};\r\n\r\n/*\r\nlet mapStateToProps = (state) => { //пропы для Users.jsx, берем только те state которые нужны компоненте,\r\n                                  //чтобы при изменениях она не перерисовывалась\r\n  return {\r\n    users: state.usersPage.users,\r\n    pagesSize: state.usersPage.pagesSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress\r\n  }\r\n};\r\n*/\r\n\r\nlet mapStateToProps = (state) => { //пропы для Users.jsx, берем только те state которые нужны компоненте,\r\n  //чтобы при изменениях она не перерисовывалась\r\n  return {\r\n    users: getUsers(state),\r\n    pagesSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n};\r\n\r\n/* let mapDispatchToProps = (dispatch) => { // пропсы, все колбэки которые диспатчат в state/store, объект создаем с помощью action creator\r\nreturn {\r\n  follow: (userId) => { dispatch(followAC(userId)); },\r\n  unfollow: (userId) => { dispatch(unfollowAC(userId)); },\r\n  setUsers: (users) => { dispatch(setUsersAC(users));} ,//диспатчим вызов AC: объект\r\n  setCurrentPage: (pageNumber) => { dispatch(setCurrentPageAC(pageNumber)); },\r\n  setTotalUsersCount: (totalCount) => { dispatch(setTotalUsersCountAC(totalCount)) },\r\n  toggleIsFetching: (isFetching) => { dispatch(toggleIsFetchingAC(isFetching)); }\r\n}}; */\r\n\r\n\r\n/* с помощью compose добавляем процессы, обработчики к UsersContainer */\r\nexport default compose(\r\n  //withAuthRedirect, если не залогинин то переход на страницу регистрации login\r\n  connect(mapStateToProps,\r\n    { follow, unfollow, setCurrentPage, toggleFollowProgress, getUsers: requestUsers })\r\n)(UsersContainer)","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false\r\n};\r\n\r\n/* что то меняется в state через редьюсер */\r\n/* редьюсер принимает старый state и action и меняет state на основании action */\r\nconst authReducer = (state = initialState, action) => { //в action приходил undefined из-за неверного импорта\r\n  switch(action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n  return { type: SET_USER_DATA, payload: {userId, email, login, isAuth} }\r\n}\r\n\r\n//thunk\r\nexport const getAuthUserData = () => async (dispatch) => { // асинхронная функция, результатом вернется промис\r\n  const Response = await authAPI.getMe();\r\n  if (Response.data.resultCode === 0) { //если мы авторизованы то записываем данные id login email\r\n    let { id, login, email } = Response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => { //async функция\r\n  const Response = await authAPI.login(email, password, rememberMe);\r\n  if(Response.data.resultCode === 0) { //если с данными все в порядке то дистпатчим\r\n    dispatch(getAuthUserData());\r\n  } else {  // если нет то диспатчим stopSubmit\r\n    //прекратить сабмит формы, если в форме что-то заполнено не верно то выводим ошибку\r\n    let message = Response.data.messages.length > 0 ? Response.data.messages[0] : \"Some Error\";\r\n    dispatch(stopSubmit(\"login\", {_error: message}));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const Response = await authAPI.logout()\r\n    if(Response.data.resultCode === 0) { //если с данными все в порядке то зануляем все данные\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={style.header}>\r\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRxC-kD5G52HKT_77FReRlnrzyC3evVDiQeQ3_bePkQwPje2pZTuQ&s\" alt=\"Logo\"></img>\r\n      <p>My Social Network</p>\r\n      <div className={style.loginBlock}>\r\n        { props.isAuth\r\n          ? <div> {props.login} <button onClick={props.logout}>Logout</button> </div>\r\n          : <NavLink to={'/login'}>Login OUT</NavLink>  }\r\n      </div>\r\n    </header>)\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render () {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout}) (HeaderContainer);\r\n\r\n","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Input, createField } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validator';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from '../common/FormsControls/FormsControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error}) => { //получаем из пропсов, что бы не писать props.handleSubmit\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"email\", \"email\", [required], Input)}\r\n      {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n      {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n      { error && <div className={style.formSummaryError}> {error} </div> }\r\n      <div><button>Login</button></div>\r\n    </form>)\r\n}\r\n\r\n/* контейнерная компонента формируемая с помощью reduxForm */\r\nconst LoginReduxForm = reduxForm({form: 'login'}) (LoginForm) //в form название формы\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => { //собирает данные из формы логин пароль rememberMe\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  }\r\n\r\n  if(props.isAuth) { //если залогинины то redirect на страницу profile\r\n    return <Redirect to={\"/profile\"} />\r\n  }\r\n\r\n  return (\r\n  <div>\r\n    <h1>LOGIN</h1>\r\n    <LoginReduxForm onSubmit={onSubmit} />\r\n  </div>)\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login}) (Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCCESS = 'INITIALIZED_SUCCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case INITIALIZED_SUCCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCCESS });\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise =  dispatch(getAuthUserData()); //вернется промис диспатча\r\n  //dispath(somethingelse());\r\n  //dispath(somethingelse());\r\n  //Promise.all([promise]).then(()=>{}) когда все промисы зарезолвится тогда then\r\n  promise.then(() => { //когда асинхронная операция будет закончена диспатчим initializedSuccess\r\n    dispatch(initializedSuccess());\r\n  })\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet redusers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; //подключаем расширение для хром браузера\r\nconst store = createStore(redusers, composeEnhancers(applyMiddleware(thunkMiddleware))); //подключаем расширение для хром браузера\r\n\r\n//let store = createStore(redusers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\n\r\n\r\nexport const withSuspense = (Component) => { //принимает на вход компонент и возвращает другой компонент\r\n  return (props) => {\r\n    return  <React.Suspense fallback={<div>Загрузка...</div>}>\r\n              <Component {...props} />\r\n            </React.Suspense>\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Route, withRouter, HashRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport Friends from './components/Friends/Friends';\r\nimport Musics from './components/Musics/Music';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from './components/News/News';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './redux/app-reducer';\r\nimport { compose } from 'redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\nconst DialogsConstainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')); //компонента будет загружаться по мере необходимости\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends Component {//классовая компонента, можем послать запрос на сервер\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp(); //thunki\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      /* если url совпадает то Route рендерит страницу в path можно добавить параметры */\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className='app-wrapper-content'>\r\n          <Route path='/dialogs' render={ withSuspense(DialogsConstainer) } />\r\n          <Route path='/profile/:userId?' render={ withSuspense(ProfileContainer) } />\r\n          <Route path='/musics' render={() => <Musics />} />\r\n          <Route path='/news' render={() => <News />} />\r\n          <Route path='/settings' render={() => <Settings />} />\r\n          <Route path='/friends' render={() => <Friends />} />\r\n          <Route path='/users' render={() => <UsersContainer />} />\r\n          <Route path='/login' render={() => <Login />} />\r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateTiProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\n/* оборачиваем в withRouter и connect */\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateTiProps, { initializeApp }))(App);\r\n\r\nconst MainApp = (props) => {\r\n  return <HashRouter >\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </HashRouter>\r\n}\r\n\r\nexport default MainApp;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport MainApp from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render( <MainApp />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport style from './FormsControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => { //рест оператор, деструктуризация\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n      <div>\r\n        <textarea {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n      <div>\r\n        <input {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n  <div>\r\n    <Field placeholder={placeholder} name={name} validate={validators} component={component} {...props}/> {text}\r\n  </div>\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formСontrol\":\"FormsControls_formСontrol__1HQjq\",\"error\":\"FormsControls_error__EgdQQ\",\"formControl\":\"FormsControls_formControl__5tUYD\",\"formSummaryError\":\"FormsControls_formSummaryError__B0L8f\"};","import React from 'react';\r\nimport spinner from '../../../assets/images/spinner.svg';\r\n\r\nlet Preloader = (props) => {\r\n  return <div>\r\n    <img src={spinner} alt=\"loading\"/>\r\n  </div>\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3f5zC\",\"pagination\":\"Paginator_pagination__2SSdc\"};","export const required = value => {\r\n  if(value)  return undefined; //если пустая строка то ошибка\r\n  return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if(value.length > maxLength)  return `Max length is ${maxLength} symbols`; //если длиньше \"указать количество\" символов то ошибка\r\n  return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__toLx6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2vf5Y\",\"loginBlock\":\"Header_loginBlock__3YhgG\"};","module.exports = \"data:image/png;base64,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\"","import { usersAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: 'Hi, lol', likesCount:'80'},\r\n    {id: 2, message: 'Hi, kok', likesCount:'140'}\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n    case ADD_POST:{\r\n      let newPost = { id: 5, message: action.newPostText, likesCount: 0 };\r\n\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n      };\r\n      /* было так\r\n      stateCopy.posts = [...state.posts];\r\n      stateCopy.posts.push(newPost);\r\n      stateCopy.newPostText = '';\r\n      */\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state, posts: state.posts.filter(p => p.id !== action.postId) //возвращается копия state в которой мы posts возьмем старые посты и отфильтруем по id только те посты которые не равны action.postId\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\n\r\n\r\n//thunk\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const Response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(Response.data)); //отправляем из компоненты в state с помощью setProfile которая приходит через пропсы из mapDisatchToProps\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const Response = await profileAPI.getStatus(userId); // в response резальтат которым зарезолвится промис\r\n    dispatch(setStatus(Response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const Response = await profileAPI.updateStatus(status);\r\n  if (Response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}